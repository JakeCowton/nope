#login-block.pt-5
  .row
    .col-sm-10.offset-sm-1.col-md-6.offset-md-3
      %h2 Sign up
      = form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f|
        = devise_error_messages!
        .field.my-4
          .row
            .col-md-4.col-sm-12
              %h5= f.label :email
            .col-md-8.col-sm-12
              = f.email_field :email, autofocus: true, autocomplete: "email", class: 'form-control form-control-lg'


        .field.my-4
          .row
            .col-md-4.col-sm-12
              %h5= f.label :password
            .col-md-8.col-sm-12
              - if @minimum_password_length
                = f.password_field :password, autocomplete: "off", class: 'form-control-lg form-control', placeholder: "#{@minimum_password_length} characters minimum"
              - else
                = f.password_field :password, autocomplete: "off", class: 'form-control-lg form-control'

        .field.my-4
          .row
            .col-md-4.col-sm-12
              %h5= f.label :password_confirmation
            .col-md-8.col-sm-12
              = f.password_field :password_confirmation, autocomplete: "off", class: 'form-control form-control-lg'

        - if @referrer_code.nil?
          .field.my-4
            .row
              .col-md-4.col-sm-12
                %h5= label_tag "Referral Code (optional)"
              .col-md-8.col-sm-12
                = text_field_tag :referrer_code, '', autocomplete: "off", class: 'form-control form-control-lg'
        - else
          = hidden_field_tag :referrer_code, @referrer_code.to_s

        .form-check
          = f.check_box :marketing_consent, class: 'form-check-input'
          %label.form-check-label.pl-3{for: 'user_marketing_consent'}
            If you
            %strong want to join our mailing list
            to hear about service updates and receive other marketing material, please opt-in here.
        %br

        .form-check
          = f.check_box :terms_consent, class: 'form-check-input'
          %label.form-check-label.pl-3#terms_consent{for: 'user_terms_consent'}
            I agree to the
            = link_to 'Terms and Conditions', terms_path
            and have read the
            = link_to 'Privacy Policy', privacy_path

        .actions.my-3
          %center
            = f.submit "Sign up", disabled: true, class: 'btn btn-primary btn-lg my-4 disabled'
      .mb-5
        = render "devise/shared/links"
